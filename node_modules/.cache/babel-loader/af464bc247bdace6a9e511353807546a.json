{"ast":null,"code":"var _jsxFileName = \"/Users/arifretiwala/python-project/front-end/final_1/cshah/Cash-My-Device/src/components/pages/devices/Checkout.js\";\nimport { Field, Form, Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { connect, useSelector } from 'react-redux';\nimport { checkOutData, checkOutDataAsGuest } from \"../../../services/addressService\";\nimport { rewards, userRewards } from \"../../../services/myAccountService\";\nimport * as actions from '../../../store/actions/cart';\nimport { isEmpty } from '../../../validation';\nimport Stepper from '../../Stepper/index';\n\nconst CheckOutPage = props => {\n  const cartData = useSelector(state => state.cart);\n  const [total, setTotal] = useState(0);\n  const [promoCode, setPromoCode] = useState(null);\n  const [promoErrorMessage, setPromoErrorMessage] = useState(null);\n  const [promoSuccessMessage, setPromoSuccessMessage] = useState(null);\n  const [promoCodeBonus, setPromoCodeBonus] = useState(null);\n\n  const previousPage = () => {\n    props.history.push(\"/cart/address\");\n  };\n\n  const handleSubmit = () => {\n    const obj = {\n      devices: cartData.items,\n      TotalPayment: total,\n      address: props.address.addressId,\n      paymentMethod: props.paymentMethod.paymentId\n    };\n\n    if (props.token) {\n      checkOutData(obj).then(res => {\n        props.history.push(\"/check-out-success\");\n        props.clearCart();\n      }).catch(err => {\n        console.log(err);\n      });\n    } else {\n      const data = {\n        firstName: props.address.firstName,\n        lastName: props.address.lastName,\n        email: '',\n        devices: cartData.items,\n        totalPayment: total,\n        paymentMethod: props.paymentMethod.method,\n        payment_name: props.paymentMethod.name,\n        paymentUsername: props.paymentMethod.useName,\n        paymentPhone: props.paymentMethod.phone,\n        paymentEmail: props.paymentMethod.email,\n        phoneNumber: props.paymentMethod.phone ? props.paymentMethod.phone : '',\n        addressType: props.address.addType,\n        addressLine1: props.address.addressLine1,\n        addressLine2: props.address.addressLine2,\n        city: props.address.city,\n        state: props.address.state,\n        zipcode: props.address.zip\n      };\n      checkOutDataAsGuest(data).then(res => {\n        props.history.push(\"/check-out-success\");\n        props.clearCart();\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  const applyPromoCode = () => {\n    if (promoCode) {\n      const obj = {\n        promocode: promoCode\n      };\n      rewards(obj).then(res => {\n        if (!isEmpty(res.data.results)) {\n          const bonus = res.data.results[0].bonus.replace('$', '');\n          setPromoCodeBonus(parseInt(bonus));\n\n          if (isEmpty(res.data.results[0].condition)) {\n            const finalTotal = total + parseInt(bonus);\n            setTotal(finalTotal);\n            setPromoSuccessMessage(`Promo code ${promoCode} applied`);\n          } else {\n            const error = [];\n            const condition = res.data.results[0].condition;\n\n            if (condition.includes('cartValue=>$100')) {\n              if (total > 100) {} else {\n                error.push('Cart value should be minimum $100');\n              }\n            }\n\n            if (condition.includes('registerUserOnly')) {\n              if (props.token) {\n                const userRewardsObj = {\n                  id: localStorage.getItem('UserId'),\n                  promocode: res.data.results[0].id\n                };\n                userRewards(userRewardsObj).then(response => {\n                  if (!isEmpty(response.data.results[0].promocode)) {\n                    const finalTotal = total + parseInt(bonus);\n                    setTotal(finalTotal);\n                    setPromoSuccessMessage(`Promo code ${promoCode} applied`);\n                  } else {\n                    error.push('Invalid promo code');\n                  }\n                });\n              } else {\n                error.push('Please login or register to avail this promo code');\n              }\n            }\n\n            if (!error.length) {\n              const finalTotal = total + parseInt(bonus);\n              setTotal(finalTotal);\n              setPromoSuccessMessage(`Promo code ${promoCode} applied`);\n            } else {\n              setPromoErrorMessage(error[0]);\n            }\n          }\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    }\n  };\n\n  useEffect(() => {\n    var total = cartData && cartData.items.length && cartData.items.reduce((a, {\n      deviceOffer\n    }) => a + deviceOffer, 0) || 0;\n    setTotal(total);\n  }, [cartData]);\n  useEffect(() => {\n    if (isEmpty(props.items)) {\n      props.history.push(\"/cart\");\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }\n  }, props.totalPayment >= 1 && /*#__PURE__*/React.createElement(Stepper, {\n    steps: [{\n      title: \"Select\"\n    }, {\n      title: \"Payment\"\n    }, {\n      title: \"Address\"\n    }, {\n      title: \"Checkout\"\n    }],\n    activeStep: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 21\n    }\n  }), props.totalPayment === 0 && /*#__PURE__*/React.createElement(Stepper, {\n    steps: [{\n      title: \"Select\"\n    }, {\n      title: \"Address\"\n    }, {\n      title: \"Checkout\"\n    }],\n    activeStep: 2,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mt-4 ml-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 17\n    }\n  }, \" Summary \")), /*#__PURE__*/React.createElement(Formik, {\n    initialValues: {\n      method: props.paymentMethod.method ? props.paymentMethod.method : ''\n    },\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }\n  }, ({\n    isSubmitting\n  }) => /*#__PURE__*/React.createElement(Form, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"row mt-4 ml-1 mr-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, !isEmpty(cartData.items) && cartData.items.map((item, index) => /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 mt-4 bg-aliceblue d-flex justify-content-space-between\",\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2 mt-2 mb-2 d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    width: \"80\",\n    src: item.imagePath,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 45\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 49\n    }\n  }, item.deviceModel, \" \", /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 72\n    }\n  })), /*#__PURE__*/React.createElement(\"h5\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 49\n    }\n  }, item.deviceCondition === '100%' ? \"Good\" : item.deviceCondition === '75%' ? \"Used\" : item.deviceCondition === '50%' ? \"Poor\" : item.deviceCondition === 'Broken' ? \"Faulty\" : item.deviceCondition))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-2 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 45\n    }\n  }, item.deviceOffer <= 0 && 'Recycle now', item.deviceOffer > 0 && `$ ${item.deviceOffer}`)))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 mt-4 d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Field, {\n    className: \"form-control\",\n    onChange: e => {\n      setPromoCode(e.target.value);\n      setPromoErrorMessage(null);\n      setPromoSuccessMessage(null);\n      setTotal(total - promoCodeBonus);\n      setPromoCodeBonus(null);\n    },\n    placeholder: \"Enter promo code\",\n    type: \"text\",\n    name: \"promoCode\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 37\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"w-100\",\n    onClick: applyPromoCode,\n    variant: \"secondary ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 37\n    }\n  }, \"Apply\"))), promoErrorMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-4 mt-2 text-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 33\n    }\n  }, promoErrorMessage), promoSuccessMessage && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"ml-4 mt-2 text-success\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 33\n    }\n  }, promoSuccessMessage), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 mt-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 33\n    }\n  }, \"Name : \", cartData && cartData.address.firstName)), cartData && cartData.address && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 37\n    }\n  }, \"Address : \", cartData.address.addressLine1, \", \", cartData.address.state, \", \", cartData.address.city)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12 mt-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"h6\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 33\n    }\n  }, \"Payment mode : \", cartData && cartData.payment.method)), total > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"hr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 37\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 37\n    }\n  }, \"Total : \", total)), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"col-md-6 mt-4 d-flex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    className: \"w-100\",\n    onClick: previousPage,\n    variant: \"secondary ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 33\n    }\n  }, \"previous\"), /*#__PURE__*/React.createElement(Button, {\n    className: \"w-100\",\n    type: \"submit\",\n    variant: \"secondary ml-4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 33\n    }\n  }, total <= 0 && 'Recycle now', \" \", total > 0 && 'Cash My Devices Now'))))));\n};\n\nconst mapStateToProps = state => {\n  return {\n    paymentMethod: state.cart.payment,\n    items: state.cart.items,\n    token: state.auth.token,\n    address: state.cart.address,\n    totalPayment: state.cart.totalPayment\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    addPayment: value => dispatch(actions.updateCartPayment(value)),\n    clearCart: (username, password) => dispatch(actions.clearCartItem())\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOutPage);","map":{"version":3,"sources":["/Users/arifretiwala/python-project/front-end/final_1/cshah/Cash-My-Device/src/components/pages/devices/Checkout.js"],"names":["Field","Form","Formik","React","useEffect","useState","Button","connect","useSelector","checkOutData","checkOutDataAsGuest","rewards","userRewards","actions","isEmpty","Stepper","CheckOutPage","props","cartData","state","cart","total","setTotal","promoCode","setPromoCode","promoErrorMessage","setPromoErrorMessage","promoSuccessMessage","setPromoSuccessMessage","promoCodeBonus","setPromoCodeBonus","previousPage","history","push","handleSubmit","obj","devices","items","TotalPayment","address","addressId","paymentMethod","paymentId","token","then","res","clearCart","catch","err","console","log","data","firstName","lastName","email","totalPayment","method","payment_name","name","paymentUsername","useName","paymentPhone","phone","paymentEmail","phoneNumber","addressType","addType","addressLine1","addressLine2","city","zipcode","zip","applyPromoCode","promocode","results","bonus","replace","parseInt","condition","finalTotal","error","includes","userRewardsObj","id","localStorage","getItem","response","length","reduce","a","deviceOffer","title","isSubmitting","map","item","index","imagePath","deviceModel","deviceCondition","e","target","value","payment","mapStateToProps","auth","mapDispatchToProps","dispatch","addPayment","updateCartPayment","username","password","clearCartItem"],"mappings":"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","sourcesContent":["import { Field, Form, Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport Button from 'react-bootstrap/Button';\nimport { connect, useSelector } from 'react-redux';\nimport { checkOutData, checkOutDataAsGuest } from \"../../../services/addressService\";\nimport { rewards, userRewards } from \"../../../services/myAccountService\";\nimport * as actions from '../../../store/actions/cart';\nimport { isEmpty } from '../../../validation';\nimport Stepper from '../../Stepper/index';\n\nconst CheckOutPage = (props) => {\n    const cartData = useSelector(state => state.cart);\n    const [total, setTotal] = useState(0)\n    const [promoCode, setPromoCode] = useState(null)\n    const [promoErrorMessage, setPromoErrorMessage] = useState(null)\n    const [promoSuccessMessage, setPromoSuccessMessage] = useState(null)\n    const [promoCodeBonus, setPromoCodeBonus] = useState(null)\n\n    const previousPage = () => {\n        props.history.push(\"/cart/address\");\n    }\n\n    const handleSubmit = () => {\n        const obj = {\n            devices: cartData.items,\n            TotalPayment: total,\n            address: props.address.addressId,\n            paymentMethod: props.paymentMethod.paymentId\n        }\n        if (props.token) {\n            checkOutData(obj).then(\n                (res) => {\n                    props.history.push(\"/check-out-success\");\n                    props.clearCart();\n                }\n            ).catch(err => {\n                console.log(err);\n            })\n        } else {\n            const data = {\n                firstName: props.address.firstName,\n                lastName: props.address.lastName,\n                email: '',\n                devices: cartData.items,\n                totalPayment: total,\n                paymentMethod: props.paymentMethod.method,\n                payment_name: props.paymentMethod.name,\n                paymentUsername: props.paymentMethod.useName,\n                paymentPhone: props.paymentMethod.phone,\n                paymentEmail: props.paymentMethod.email,\n                phoneNumber: props.paymentMethod.phone ? props.paymentMethod.phone : '',\n                addressType: props.address.addType,\n                addressLine1: props.address.addressLine1,\n                addressLine2: props.address.addressLine2,\n                city: props.address.city,\n                state: props.address.state,\n                zipcode: props.address.zip\n            }\n            checkOutDataAsGuest(data).then(\n                (res) => {\n                    props.history.push(\"/check-out-success\");\n                    props.clearCart();\n                }\n            ).catch(err => {\n                console.log(err);\n            })\n        }\n    };\n\n    const applyPromoCode = () => {\n        if (promoCode) {\n            const obj = {\n                promocode: promoCode\n            };\n            rewards(obj).then(\n                (res) => {\n                    if (!isEmpty(res.data.results)) {\n                        const bonus = res.data.results[0].bonus.replace('$', '')\n                        setPromoCodeBonus(parseInt(bonus))\n                        if (isEmpty(res.data.results[0].condition)) {\n                            const finalTotal = total + parseInt(bonus)\n                            setTotal(finalTotal)\n                            setPromoSuccessMessage(`Promo code ${promoCode} applied`)\n                        } else {\n                            const error = [];\n                            const condition = res.data.results[0].condition\n                            if (condition.includes('cartValue=>$100')) {\n                                if (total > 100) { } else {\n                                    error.push('Cart value should be minimum $100')\n                                }\n                            }\n                            if (condition.includes('registerUserOnly')) {\n                                if (props.token) {\n                                    const userRewardsObj = {\n                                        id: localStorage.getItem('UserId'),\n                                        promocode: res.data.results[0].id\n                                    }\n                                    userRewards(userRewardsObj).then(\n                                        (response) => {\n                                            if (!isEmpty(response.data.results[0].promocode)) {\n                                                const finalTotal = total + parseInt(bonus)\n                                                setTotal(finalTotal)\n                                                setPromoSuccessMessage(`Promo code ${promoCode} applied`)\n                                            } else {\n                                                error.push('Invalid promo code')\n                                            }\n                                        })\n                                } else {\n                                    error.push('Please login or register to avail this promo code')\n                                }\n                            }\n\n                            if (!error.length) {\n                                const finalTotal = total + parseInt(bonus)\n                                setTotal(finalTotal)\n                                setPromoSuccessMessage(`Promo code ${promoCode} applied`)\n                            } else {\n                                setPromoErrorMessage(error[0])\n                            }\n\n                        }\n                    }\n                }\n            ).catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    useEffect(() => {\n        var total = cartData && cartData.items.length &&\n            cartData.items.reduce((a, { deviceOffer }) => a + deviceOffer, 0) || 0\n        setTotal(total)\n    }, [cartData])\n\n    useEffect(() => {\n        if (isEmpty(props.items)) {\n            props.history.push(\"/cart\");\n        }\n    });\n\n    return (\n        <div>\n            <div>\n                {\n                    props.totalPayment >= 1 &&\n                    <Stepper steps={[{ title: \"Select\" }, { title: \"Payment\" }, { title: \"Address\" }, { title: \"Checkout\" }]} activeStep={3} />\n                }\n                {\n                    props.totalPayment === 0 &&\n                    <Stepper steps={[{ title: \"Select\" }, { title: \"Address\" }, { title: \"Checkout\" }]} activeStep={2} />\n                }\n            </div>\n\n            <div className=\"mt-4 ml-5\">\n                <h4> Summary </h4>\n            </div>\n            <Formik\n                initialValues={{ method: props.paymentMethod.method ? props.paymentMethod.method : '' }}\n                onSubmit={handleSubmit}\n            >\n                {({ isSubmitting }) => (\n                    <Form>\n                        <div className=\"row mt-4 ml-1 mr-1\">\n                            {\n                                !isEmpty(cartData.items) && cartData.items.map((item, index) => (\n                                    <div className=\"col-md-12 mt-4 bg-aliceblue d-flex justify-content-space-between\" key={index} >\n                                        <div className=\"ml-2 mt-2 mb-2 d-flex\">\n                                            <img width=\"80\" src={item.imagePath} />\n                                            <div className=\"ml-2 mt-2\">\n                                                <h4>\n                                                    {item.deviceModel} <br />\n                                                </h4>\n                                                <h5>\n                                                    {item.deviceCondition === '100%' ? \"Good\" : item.deviceCondition === '75%' ? \"Used\" : item.deviceCondition === '50%' ? \"Poor\" : item.deviceCondition === 'Broken' ? \"Faulty\" : item.deviceCondition}\n                                                </h5>\n                                            </div>\n                                        </div>\n                                        <div className=\"ml-2 mt-2\">\n                                            <h3>\n                                                {item.deviceOffer <= 0 && 'Recycle now'}\n                                                {item.deviceOffer > 0 && `$ ${item.deviceOffer}`}\n                                            </h3>\n                                        </div>\n                                    </div>\n                                ))\n                            }\n                            <div className=\"col-md-12 mt-4 d-flex\">\n                                <div>\n                                    <Field className=\"form-control\" onChange={(e) => {\n                                        setPromoCode(e.target.value)\n                                        setPromoErrorMessage(null)\n                                        setPromoSuccessMessage(null)\n                                        setTotal(total - promoCodeBonus)\n                                        setPromoCodeBonus(null)\n                                    }} placeholder=\"Enter promo code\" type=\"text\" name=\"promoCode\" />\n                                </div>\n                                <div >\n                                    <Button className=\"w-100\" onClick={applyPromoCode} variant=\"secondary ml-4\">Apply</Button>\n                                </div>\n                            </div>\n                            {\n                                promoErrorMessage &&\n                                <div className=\"ml-4 mt-2 text-danger\">\n                                    {promoErrorMessage}\n                                </div>\n                            }\n\n                            {\n                                promoSuccessMessage &&\n                                <div className=\"ml-4 mt-2 text-success\">\n                                    {promoSuccessMessage}\n                                </div>\n                            }\n                            <div className=\"col-md-12 mt-4\">\n                                <h4>Name : {cartData && cartData.address.firstName}</h4>\n                            </div>\n                            {\n                                cartData && cartData.address &&\n                                <div className=\"col-md-12 mt-2\">\n                                    <h6>Address : {cartData.address.addressLine1}, {cartData.address.state}, {cartData.address.city}</h6>\n                                </div>\n                            }\n\n                            <div className=\"col-md-12 mt-2\">\n                                <h6>Payment mode : {cartData && cartData.payment.method}</h6>\n                            </div>\n\n                            {\n                                total > 0 &&\n                                <div className=\"col-md-12\">\n                                    <hr />\n                                    <h3>Total : {total}</h3>\n                                </div>\n                            }\n\n                            <div className=\"col-md-6 mt-4 d-flex\">\n                                <Button className=\"w-100\" onClick={previousPage} variant=\"secondary ml-4\">previous</Button>\n                                <Button className=\"w-100\" type=\"submit\" variant=\"secondary ml-4\">\n                                    {total <= 0 && 'Recycle now'} {total > 0 && 'Cash My Devices Now'}\n                                </Button>\n                            </div>\n                        </div>\n                    </Form>\n                )}\n            </Formik>\n        </div >\n    )\n}\n\nconst mapStateToProps = state => {\n    return {\n        paymentMethod: state.cart.payment,\n        items: state.cart.items,\n        token: state.auth.token,\n        address: state.cart.address,\n        totalPayment: state.cart.totalPayment\n    }\n}\n\nconst mapDispatchToProps = dispatch => {\n    return {\n        addPayment: (value) => dispatch(actions.updateCartPayment(value)),\n        clearCart: (username, password) => dispatch(actions.clearCartItem())\n\n    }\n}\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CheckOutPage);\n"]},"metadata":{},"sourceType":"module"}